apiVersion: v1
kind: ConfigMap
metadata:
  name: aws-auth
  namespace: kube-system
data:
  mapRoles: |
    # INFRA / CLUSTER ADMIN
    - rolearn: arn:aws:iam::174512274809:role/kubernetes-ci-infra-role
      username: ci:infra
      groups:
        - system:masters

    # APP DEPLOY
    - rolearn: arn:aws:iam::174512274809:role/kubernetes-ci-app-role
      username: ci:app
      groups:
        - app-deployers

    # MONITORING DEPLOY
    - rolearn: arn:aws:iam::174512274809:role/kubernetes-ci-monitoring-role
      username: ci:monitoring
      groups:
        - monitoring-admins

    - rolearn: arn:aws:iam::174512274809:role/eks-node-role
      username: system:node:{{EC2PrivateDNSName}}
      groups:
        - system:bootstrappers
        - system:nodes

  mapUsers: |
    - userarn: arn:aws:iam::174512274809:user/production-cli-user
      username: local-admin
      groups:
        - system:masters
